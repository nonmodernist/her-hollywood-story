<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>404 Debug Test</title>
</head>
<body>
    <h1>404 Handler Debug</h1>
    <p>If you see this, the 404.html is working!</p>
    
    <h2>Debug Info:</h2>
    <pre id="debug"></pre>
    
    <script>
        const debug = document.getElementById('debug');
        const info = {
            pathname: window.location.pathname,
            href: window.location.href,
            host: window.location.host,
            origin: window.location.origin,
            search: window.location.search,
            includesDatabase: window.location.pathname.includes('/database/'),
            includesAdaptedFromWomen: window.location.pathname.includes('/adapted-from-women/'),
            sessionStorageRedirect: sessionStorage.getItem('redirect')
        };
        
        debug.textContent = JSON.stringify(info, null, 2);
        
        // Log to console too
        console.log('404 Debug Info:', info);
        
        // Add a manual continue button
        setTimeout(() => {
            document.body.innerHTML += `
                <hr>
                <p>Database route detected: ${info.includesDatabase}</p>
                <p>Would redirect to: ${info.includesDatabase ? '/adapted-from-women/site/database/' : 'nowhere'}</p>
                <button onclick="sessionStorage.setItem('redirect', location.pathname + location.search); window.location.href='/adapted-from-women/site/database/'">
                    Continue to Database
                </button>
            `;
        }, 100);
    </script>
</body>
</html>
