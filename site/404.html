<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Redirecting...</title>
    <script>
        // For GitHub Pages SPA routing
        const path = window.location.pathname;
        
        // Check if we're on a database route
        if (path.includes('/database/') || path.endsWith('/database')) {
            // Store the intended path for the SPA to handle
            sessionStorage.setItem('redirect', location.pathname + location.search);
            
            // Find the database index path
            // Handle various path structures:
            // - /adapted-from-women/site/database/films
            // - /database/films (future production)
            // - localhost paths
            
            const pathParts = path.split('/');
            const dbIndex = pathParts.lastIndexOf('database');
            
            if (dbIndex !== -1) {
                // Reconstruct path up to and including 'database'
                const basePath = pathParts.slice(0, dbIndex + 1).join('/');
                // Redirect to database index
                window.location.replace(basePath + '/');
            } else {
                // Fallback - shouldn't happen but just in case
                window.location.replace('/database/');
            }
        } else {
            // For non-database 404s, show actual 404 page
            document.title = 'Page Not Found - Her Hollywood Story';
            document.addEventListener('DOMContentLoaded', function() {
                document.body.innerHTML = `
                    <style>
                        body {
                            font-family: 'EB Garamond', Georgia, serif;
                            max-width: 600px;
                            margin: 4rem auto;
                            padding: 0 2rem;
                            text-align: center;
                        }
                        h1 {
                            font-size: 3rem;
                            margin-bottom: 1rem;
                        }
                        p {
                            font-size: 1.3rem;
                            line-height: 1.8;
                            color: #666;
                        }
                        a {
                            color: #8b0000;
                            text-decoration: none;
                        }
                        a:hover {
                            text-decoration: underline;
                        }
                    </style>
                    <h1>Page Not Found</h1>
                    <p>The page you're looking for doesn't exist.</p>
                    <p><a href="/">Return to Homepage</a> | <a href="/database/">Browse Database</a></p>
                `;
            });
        }
    </script>
</head>
<body>
    <noscript>
        <h1>Page Not Found</h1>
        <p>The page you're looking for doesn't exist.</p>
        <p><a href="/">Return to Homepage</a></p>
    </noscript>
</body>
</html>